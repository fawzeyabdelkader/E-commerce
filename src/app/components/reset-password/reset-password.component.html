
<div class="w-50 mx-auto my-5">
  <form (ngSubmit)="handelResetPassword(resetPassword)" [formGroup]="resetPassword">
    <h2>Reset Password :-</h2>
    <div *ngIf="errorMessage" class="alert alert-danger text-center">{{errorMessage}} ❌</div>


    <label class="mt-3" for="email">Email :</label>
    <!-- <input formControlName="email" type="email" class="form-control " id="email" /> -->
    <!-- <input [ngClass]="resetPassword.get('email')?.invalid?'is-invalid':'is-valid'" formControlName="email" type="email" class="form-control " id="email"  /> -->
    <input [ngClass]="{'is-valid':emailValid=='tmam','is-invalid':emailValid=='la'}" (keyup)="testEmail(this)"
      formControlName="email" type="email" class="form-control" id="email" />

    <div *ngIf="resetPassword.get('email')?.invalid&&resetPassword.get('email')?.touched" class="text-danger">
      <p *ngIf=" resetPassword.get('email')?.getError('required')" class="my-0">email is required</p>
      <p *ngIf=" resetPassword.get('email')?.getError('email')" class="my-0">please enter a valid email</p>
    </div>

    <label class="mt-3" for="newPassword">new Password :</label>
    <!-- <input formControlName="newPassword" type="newPassword" class="form-control " id="newPassword" /> -->
    <!-- <input [ngClass]="resetPassword.get('newPassword')?.invalid?'is-invalid':'is-valid'" formControlName="newPassword" type="newPassword" class="form-control " id="newPassword"  /> -->
    <input [ngClass]="{'is-valid':passwordValid=='tmam','is-invalid':passwordValid=='la'}" (keyup)="testResetPassword(this)"
      formControlName="newPassword" type="newPassword" class="form-control" id="newPassword" />

    <div *ngIf="resetPassword.get('newPassword')?.invalid&&resetPassword.get('newPassword')?.touched" class="text-danger">
      <p *ngIf=" resetPassword.get('newPassword')?.getError('required')" class="my-0">newPassword is required</p>
      <p *ngIf=" resetPassword.get('newPassword')?.getError('pattern')" class="my-0"> newPassword start with a uppercase
        followed by at least 5 characters</p>
    </div>
    <div class="d-flex justify-content-end align-items-center">
       <button [disabled]="resetPassword.invalid || isLoading" class="btn bg-main text-light my-3">
        <span *ngIf="!isLoading">Send</span>
        <span *ngIf="isLoading"><i class="fas  fa-spin fa-spinner"></i></span>
      </button>
    </div>
  </form>
</div>